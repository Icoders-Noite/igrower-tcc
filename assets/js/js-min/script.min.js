"use strict";function callback(e){e.entrou?window.location.href="dashboard.html":$("#credenciaisIncorretas").fadeIn("slow")}function callbackCadastro(e){e.status?(alert("Cadastrado com sucesso!"),$("#voltarLogin").trigger("click")):"E-mail já cadastrado!"==e.mensagem?emailCadastrado():alert(e.mensagem)}function emailCadastrado(){$("#emailExistente").fadeIn("slow",function(){})}var ssid,senha,minHumidity,autoMode;$("#btn-login").click(function(){$("#credenciaisIncorretas").fadeOut("fast",function(){$("#camposEmBranco").fadeOut("fast",function(){var e,n=document.getElementById("email").value,t=document.getElementById("senha").value;0<n.length&&0<t.length?(e={user:n,password:btoa(t)},$.ajax({url:"https://my-json-server.typicode.com/Icoders-Noite/api-fake-test/login",data:e,error:function(){alert("Ocorreu um error ao se conectar com a API")},dataType:"jsonp",success:function(e){callback(e)},type:"GET"})):$("#camposEmBranco").fadeIn("slow")})})}),$("#senha").on("keypress",function(e){13==e.which&&$("#btn-login").trigger("click")}),$("#abrirCadastro").click(function(){$("#login").fadeOut("slow",function(){$("#cadastro").fadeIn("slow")}),document.title="Cadastro"}),$("#voltarLogin").click(function(){$("#cadastro").fadeOut("slow",function(){$("#login").fadeIn("slow")}),document.title="Login"}),$("#btn-cadastro").click(function(){$("#dadosNaoPreenchidos").fadeOut("fast",function(){$("#emailExistente").fadeOut("fast",function(){$("#emailExistente").fadeOut("fast",function(){$("#senhaCurta").fadeOut("fast",function(){$("#senhasDivergentes").fadeOut("fast",function(){var e,n=document.getElementById("emailCadastro").value,t=document.getElementById("nome").value,a=document.getElementById("sobrenome").value,o=document.getElementById("senhaCadastro").value,i=document.getElementById("confirmarSenha").value;0<n.length&&0<t.length&&0<a.length&&0<o.length&&0<i.length?8<=o.length?o==i?((e=new XMLHttpRequest).onreadystatechange=function(){var e;4==this.readyState&&200==this.status&&(e=JSON.parse(this.responseText),console.log(e))},e.open("POST","https://us-central1-meu-tcc-1995.cloudfunctions.net/function-1/novo-usuario",!0),e.setRequestHeader("Access-Control-Allow-Origin","*"),e.setRequestHeader("Content-Type","pplication/json"),e.send(JSON.stringify({nome:t,sobrenome:a,email:n,senha:btoa(o)}))):$("#senhasDivergentes").fadeIn("slow",function(){}):$("#senhaCurta").fadeIn("slow",function(){}):$("#dadosNaoPreenchidos").fadeIn("slow",function(){})})})})})})});var idArduino=-1;function ArquivoGerar(e){0<senha.length&&0<ssid.length&&"-1"!=minHumidity&&"0"!=minHumidity&&"-1"!=autoMode?(alert("Salve o arquivo de configurações dentro do cartão SD do Igrower e selecione para substituir arquivo"),salvar("".concat(e,"\n").concat(ssid,"\n").concat(senha,"\n"))):alert("Opções inválidas")}function salvar(e){var n=new Blob(Array.from(e),{type:"text/plain;charset=utf-8"});saveAs(n,"CONFIG.txt")}$("#btn-gerar-config").click(function(){ssid=$("#ssid").val(),senha=$("#senhaWifi").val(),minHumidity=$("#minHumidity").children("option:selected").val(),autoMode=$("#autoMode").children("option:selected").val(),idArduino=$("#idArduino").children("option:selected").val();var e={userId:12,minHumidity:minHumidity,autoMode:autoMode};$.ajax({url:"https://my-json-server.typicode.com/Icoders-Noite/api-fake-test/config",data:e,error:function(){alert("Ocorreu um error ao se conectar com a API")},dataType:"jsonp",success:function(){ArquivoGerar(idArduino)},type:"GET"})}),$("#minHumidity").change(function(){"-1"==$(this).children("option:selected").val()&&$("#minHumidityManual").fadeIn("slow")}).trigger("change");var adicionouItens=!1;function salvarIdEmcache(){}function loadConfig(){$("#configArduino").html('<iframe id="iframeConfig" src="gerar-configuracoes.html"></iframe>')}$("#minHumidityManual").change("mousestop",function(){adicionouItens&&$("#itemAdicionado").remove();var e=$("#minHumidityManual").val(),n="".concat(e,"%");$("#minHumidity").append(new Option(n,e)),$("#minHumidity").children(":last-child").attr("id","itemAdicionado").attr("selected","selected"),adicionouItens=!0}),$("#abrirConfig").click(function(){loadConfig()});